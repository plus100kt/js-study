# 1. 스코프란 무엇인가
## 1.1 컴파일러 이론
자바스크립트는 일반적으로 '동적' 또는 '인터프리터'언어로 분류하나 사실은 '컴파일러' 언어이다. 하지만 자바스크립트 언어는 전통적인 컴파일러 언어들과는 다른 세련된 방식으로 컴파일 한다.

보통 전통 컴파일러들의 컴파일 방식은 3단계를 거친다.

1. 토크나이징/렉싱
* 문자열을 나누어 토큰이라는 의미 있는 조각으로 만드는 과정이다.
* var a = 2;의 경우 var, a, =, 2, ; 5가지의 토큰으로 나누어 줄 수 있다.
2. 파싱
* 토큰 배열을 트리 형태로 바꾸는 과정이다 파싱의 결과로 만들어진 트리를 AST(추상 구문 트리)라 부른다 내용은 어려우니 생략한다. 
3. 코드 생성
* AST를 컴퓨터에서 실행 코드로 바꾸는 과정이다. AST를 기계어 집합으로 바꾸어 실제로 'a'라는 변수를 생성하고 값을 저장한다.

자바스크립트 엔진은 훨씬 복잡하다. 파싱과 코드 생성 과정에서 불필요한 요소가 삭제되고 빠른 성능을 내기위해 여러 종류의 트릭을 쓰기도 한다. 그리고 자바스크립트 조각은 실행 바로 직전에 컴파일된다.

## 1.2 스코프 이해하기
컴파일러가 var a = 2;라는 프로그램을 실행할때 진행하는 일을 살표보자

1. 컴파일러가 'var a'를 만나면 스코프에게 변수 a가 특정한 스코프 컬렉션 안에 있는지 묻는다. 변수 a가 이미 있다면 컴파일러는 선언을 무시하고 지나가고, 그렇지 않으면 컴파일러는 새로운 변수 a를 스코프 컬렉션 내에 선언하라고 요청한다.
2. 그 후 컴파일러는 'a = 2' 대입문을 처리하기 위해 나중에 엔진이 실행할 수 있는 코드를 생성한다. 엔진이 실행하는 코드는 먼저 스코프에게 a라 부르는 변수가 현재 스코프 컬렉션 내에서 접근할 수 있는지 확인한다. 가능하다면 엔진은 변수a를 사용하고, 아니라면 엔진은 다른 곳을 살핀다.

엔진이 변수를 찾으면 변수에 값 2를 넣고 못 찾는다면 엔진은 에러가 발생했다고 말할것이다. 즉 두 가지 동작을 취하여 변 수 대입문은 처리하는데 첫째, 컴파일러가 변수를 선언하고 (현재 스코프에 미리 변수가 선언되지 않은 경우) 둘째, 엔진이 스코프에서 변수를 찾고 변수가 있다면 값을 대입한다.

**1.2.3 컴파일러체**

